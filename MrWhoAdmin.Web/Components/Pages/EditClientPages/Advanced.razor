@using MrWho.Shared
@using MrWho.Shared.Models

@if (editClient.IsLoading)
{
    <RadzenCard class="rz-my-4">
        <RadzenProgressBarCircular ShowValue="false" Mode="ProgressBarMode.Indeterminate" />
        <RadzenText class="rz-mt-3">Loading client data...</RadzenText>
    </RadzenCard>
}
else
{
<RadzenStack Gap="0.75rem" class="rz-mb-4">
    <RadzenText TextStyle="TextStyle.Subtitle1" class="rz-font-weight-600">Protocol Configuration</RadzenText>
    <RadzenStack Gap="1rem">
        <RadzenFormField Text="Protocol Type" Variant="Variant.Outlined">
            <ChildContent>
                <RadzenTextBox @bind-Value="model.ProtocolType" Style="width: 100%;" Disabled="true" />
            </ChildContent>
            <Helper>
                <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary">
                    Protocol type (currently only OIDC is supported)
                </RadzenText>
            </Helper>
        </RadzenFormField>
    </RadzenStack>
</RadzenStack>

<RadzenStack Gap="0.75rem" class="rz-mt-4 rz-mb-4">
    <RadzenText TextStyle="TextStyle.Subtitle1" class="rz-font-weight-600">Custom Page URLs</RadzenText>
    <RadzenStack Gap="1rem">
        <RadzenFormField Text="Custom Login Page" Variant="Variant.Outlined">
            <ChildContent>
                <RadzenTextBox @bind-Value="model.CustomLoginPageUrl" Style="width: 100%;" Placeholder="https://custom.example.com/login" />
            </ChildContent>
            <Helper>
                <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary">Override default login page for this client</RadzenText>
            </Helper>
        </RadzenFormField>
        <RadzenFormField Text="Custom Logout Page" Variant="Variant.Outlined">
            <ChildContent>
                <RadzenTextBox @bind-Value="model.CustomLogoutPageUrl" Style="width: 100%;" Placeholder="https://custom.example.com/logout" />
            </ChildContent>
            <Helper>
                <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary">Override default logout page for this client</RadzenText>
            </Helper>
        </RadzenFormField>
        <RadzenFormField Text="Custom Error Page" Variant="Variant.Outlined">
            <ChildContent>
                <RadzenTextBox @bind-Value="model.CustomErrorPageUrl" Style="width: 100%;" Placeholder="https://custom.example.com/error" />
            </ChildContent>
            <Helper>
                <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary">Override default error page for this client</RadzenText>
            </Helper>
        </RadzenFormField>
    </RadzenStack>
</RadzenStack>
}

@code {
    [Parameter] public EditClient editClient { get; set; } = null!;
    private CreateClientRequest model => editClient.model;
}
