using MrWho.Extensions;

var builder = WebApplication.CreateBuilder(args);

builder.AddServiceDefaults();

// Add services to the container using extension methods
builder.Services.AddControllersWithViews();
builder.Services.AddMrWhoAntiforgery();
builder.AddMrWhoDatabase();
builder.Services.AddMrWhoIdentity();
builder.Services.AddMrWhoServices();
builder.Services.AddMrWhoOpenIddict();
builder.Services.AddMrWhoAuthorization();

var app = builder.Build();

// Configure the HTTP request pipeline using extension methods
await app.ConfigureMrWhoPipelineAsync();
app.AddMrWhoEndpoints();
app.AddMrWhoDebugEndpoints();

app.Run();